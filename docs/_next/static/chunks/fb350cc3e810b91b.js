(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25412,e=>{"use strict";var t=e.i(55487);let r=t.useSelector;e.s(["useAppDispatch",0,()=>(0,t.useDispatch)(),"useAppSelector",0,r])},18566,(e,t,r)=>{t.exports=e.r(76562)},90597,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:c,...n},g)=>(0,t.createElement)("svg",{ref:g,...s,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:a("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(n)&&{"aria-hidden":"true"},...n},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...o},d)=>(0,t.createElement)(l,{ref:d,iconNode:s,className:a(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...o}));return i.displayName=r(e),i};e.s(["default",()=>i],75254);let o=i("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>o],90597)},31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(25412),s=e.i(76286),l=e.i(90597),i=e.i(75254);let o=(0,i.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var d=e.i(18566);function c({product:e}){let r=(0,a.useAppDispatch)(),i=(0,d.useRouter)();return(0,t.jsxs)("div",{onClick:()=>{i.push(`/products/${e.id}`)},className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow duration-200 flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"relative w-full h-48 bg-gray-200 dark:bg-gray-700 overflow-hidden",children:[(0,t.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/600x400?text=No+Image"}}),e.hasNoImage&&(0,t.jsx)("span",{className:"absolute top-2 left-2 bg-gray-900/75 text-white text-xs px-2 py-1 rounded",children:"No image"})]}),(0,t.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white line-clamp-2 flex-1",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-2 ml-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r((0,s.toggleLike)(e.id))},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e.isLiked?"Remove like":"Set like",children:(0,t.jsx)(l.Heart,{size:20,className:e.isLiked?"fill-red-500 text-red-500":"text-gray-500"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r((0,s.removeProduct)(e.id))},className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Delete product",children:(0,t.jsx)(o,{size:20,className:"text-gray-500 hover:text-red-500"})})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1 flex-1 line-clamp-3",children:((e,t=100)=>e.length<=t?e:e.substring(0,t)+"...")(e.description)}),e.hasNoDescription&&(0,t.jsx)("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:"No description"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["$",e.price.toFixed(2)]}),e.category&&(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:e.category})]})]})]})}function n(){let e=(0,a.useAppDispatch)(),r=(0,a.useAppSelector)(e=>e.products.filter);return(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsx)("button",{onClick:()=>e((0,s.setFilter)("all")),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"all"===r?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All products"}),(0,t.jsx)("button",{onClick:()=>e((0,s.setFilter)("favorites")),className:`px-4 py-2 rounded-lg font-medium transition-colors ${"favorites"===r?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Favorites"})]})}let g=(0,i.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,i.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function x(){let e=(0,a.useAppDispatch)(),{items:r,filter:l,currentPage:i,itemsPerPage:o}=(0,a.useAppSelector)(e=>e.products),d="favorites"===l?r.filter(e=>e.isLiked):r,c=Math.ceil(d.length/o);if(0===d.length||c<=1)return null;let n=t=>{t>=1&&t<=c&&(e((0,s.setCurrentPage)(t)),window.scrollTo({top:0,behavior:"smooth"}))};return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,t.jsxs)("button",{onClick:()=>n(i-1),disabled:1===i,className:`px-3 py-2 rounded-lg font-medium transition-colors flex items-center gap-1 ${1===i?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,"aria-label":"Previous page",children:[(0,t.jsx)(g,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Previous"})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(c<=5)for(let t=1;t<=c;t++)e.push(t);else if(i<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(c)}else if(i>=c-2){e.push(1),e.push("...");for(let t=c-3;t<=c;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=i-1;t<=i+1;t++)e.push(t);e.push("..."),e.push(c)}return e})().map((e,r)=>{if("..."===e)return(0,t.jsx)("span",{className:"px-2 py-2 text-gray-500 dark:text-gray-400",children:"..."},`ellipsis-${r}`);let a=e===i;return(0,t.jsx)("button",{onClick:()=>n(e),className:`min-w-[40px] px-3 py-2 rounded-lg font-medium transition-colors ${a?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,"aria-label":`Go to page ${e}`,"aria-current":a?"page":void 0,children:e},e)})}),(0,t.jsxs)("button",{onClick:()=>n(i+1),disabled:i===c,className:`px-3 py-2 rounded-lg font-medium transition-colors flex items-center gap-1 ${i===c?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,"aria-label":"Next page",children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(h,{className:"w-4 h-4"})]})]})}let p=(0,i.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function u(){let{items:e,loading:r,error:s,filter:l,currentPage:i,itemsPerPage:o}=(0,a.useAppSelector)(e=>e.products),d="favorites"===l?e.filter(e=>e.isLiked):e,g=(i-1)*o,h=g+o,u=d.slice(g,h);return r?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)(p,{className:"w-8 h-8 animate-spin text-blue-600"})}):s?(0,t.jsx)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:(0,t.jsxs)("p",{children:["Failed to load products: ",s]})}):0===d.length?(0,t.jsxs)("div",{children:[(0,t.jsx)(n,{}),(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"favorites"===l?"No favorite products":"No products to display"})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)(n,{}),(0,t.jsxs)("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing ",g+1,"-",Math.min(h,d.length)," of ",d.length," products"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(e=>(0,t.jsx)(c,{product:e},e.id))}),(0,t.jsx)(x,{})]})}function m(){let e=(0,a.useAppDispatch)(),{items:l}=(0,a.useAppSelector)(e=>e.products);return(0,r.useEffect)(()=>{0===l.length&&e((0,s.fetchProducts)())},[e,l.length]),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Products"}),(0,t.jsx)("a",{href:"/create-product",className:"inline-block mt-2 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700",children:"Create product"})]}),(0,t.jsx)(u,{})]})}e.s(["default",()=>m],31713)}]);